# NeoVM 架构

## 概述

NeoVM 是一个基于栈的虚拟机，执行逻辑与区块链交互清晰分离。

## 核心组件

### 1. 执行引擎
- 加载和解析字节码
- 顺序执行指令
- 管理执行上下文
- 处理异常

### 2. 栈系统

**计算栈** - 所有计算的主要栈
**备用栈** - 复杂操作的临时存储

### 3. 调用栈

管理合约调用其他合约时的执行上下文。

## 数据类型

| 类型 | 描述 |
|------|------|
| Boolean | 真/假 |
| Integer | 任意精度整数 |
| ByteString | 不可变字节数组 |
| Buffer | 可变字节数组 |
| Array | 动态列表 |
| Struct | 值类型数组 |
| Map | 键值对 |

## 限制

| 参数 | 值 |
|------|-----|
| 最大栈大小 | 2048 项 |
| 最大项大小 | 1MB |
| 最大调用深度 | 1024 |
